<!DOCTYPE html>
<html>

<head>
  <title>Flask-SSE Demo - BigBoxCode</title>
  {% include 'head-imports.html' %}
  {% include 'navbar.html' %}

</head>

<body>

  <div class="container">
    <div class="row">
      <div class="col-sm">
        <div class="image-container img-responsive">
          <ul id="image-list">
          </ul>
          <script>
            const eventSource = new EventSource('http://localhost:5000/images');
            const listElement = document.getElementById('image-list');
            eventSource.onmessage = function (currentEvent) {
              if (currentEvent.data.length > 0) {
                const listElement = document.getElementById('image-list');
                const newElement = document.createElement('li');
                newElement.innerText = currentEvent.data;
                console.log(currentEvent)
                listElement.appendChild(newElement)
              }
            };
          </script>
        </div>
      </div>
      <div class="col-sm">
        <div class="image-container img-responsive">
          <ul id="plate-list">
          </ul>
          <script>
            const eventSource = new EventSource('http://localhost:5000/alprdsse');
            const listElement2 = document.getElementById('plate-list');
            eventSource.onmessage = function (currentEvent) {
              if (currentEvent.data.length > 0) {
                const listElement2 = document.getElementById('plate-list');
                const newElement = document.createElement('li');
                newElement.innerText = currentEvent.data;
                console.log(currentEvent)
                listElement2.appendChild(newElement)
              }
            };
          </script>
        </div>
        One of three columns
      </div>
    </div>
  </div>



  {% include 'scripts.html' %}
</body>

</html>